# Subject
Public Key Infrastructure

## Key terminology
PKI:  
Is a set of roles, policies, hardware, software and procedures needed to create, manage, distribute, use,  
store and revoke digital certificates and manage public-key encryption.  

to help govern encryption keys through the issuance and management of digital certificates. These PKI certificates verify the owner of a private key and the authenticity of that relationship going forward to help maintain security. The certificates are akin to a driver’s license or passport for the digital world. 

PKI assigns identities to keys so that recipients can accurately verify the owners. This verification gives users confidence that if they send an encrypted message to that person (or device), the intended recipient is the one who will actually read it and not anyone else who may be sitting as a “man in the middle.” 

It consists of three entities that assure you can communicate securely over an insecure network like the public internet.  
- digital certificates,  
- certificate authority,  
- registration authority.  

A wide variety of use cases exist for PKI. Some of the most common PKI use cases include: 

- SSL/TLS certificates to secure web browsing experiences and communications 
- Digital signatures on software 
- Restricted access to enterprise intranets and VPNs 
- Password-free Wifi access based on device ownership 
- Email and data encryption  

X.509:  
PKI governs encryption keys by issuing and managing digital certificates. Digital certificates are also called X.509 certificates and PKI certificates. 

A digital certificate has these qualities: 

- Is an electronic equivalent of a driver’s license or passport 
- Contains information about an individual or entity 
- Is issued from a trusted third party 
- Is tamper-resistant 
- Contains information that can prove its authenticity 
- Can be traced back to the issuer 
- Has an expiration date 
- Is presented to someone (or something) for validation  

CR:  
Companies, through their RA (Registration Authority), or individuals, must request a digital certificate from a CA (Certification Authority). The request contains a public key and additional identity information. The CA will first investigate the validity of the request, and if successful will sign the public key, along with other variables presented by the party making the request. Once the certificate is signed, it may be used in the PKI (Public Key Infrastructure).  

You can create your own certificates for internal communications. If you would like certificates for a commercial site or something of a larger scale, you can obtain a PKI digital certificate through a trusted third party issuer, called a Certificate Authority.  

A public key is generated through a digital certificate, which carries important information that identifies the public key holder. You can create your own certificate, or apply for a digital certificate through a third-party or Certificate Authority. Certificate Authorities validate the identities of the individuals and/or servers involved in order to prevent fraud and viruses. 

CA:
Certification Authorities (CAs)  
Are responsible for creating digital certificates and own the policies, practices, and procedures for vetting recipients and issuing the certificates.  

Authenticate the digital identities of the users, which can range from individuals to computer systems to servers.  

Registration Authority (RA):  
Which is authorized by the Certificate Authority to provide digital certificates to users on a case-by-case basis. All of the certificates that are requested, received, and revoked by both the Certificate Authority and the Registration Authority are stored in an encrypted certificate database.

Digital signature:  

Hash:  
A cryptographic term for a mathematical value used to summaries a much larger block of data. This summary is termed the digest. The digest is generated by passing the original data through the hashing function. Irrespective of the length of the original data block, the hash code or digest is of a uniform length.


## Exercise  
- Create a self-signed certificate on your VM.  

- Analyze some certification paths of known websites (ex. techgrounds.nl / google.com / ing.nl).  

- Find the list of trusted certificate roots on your system (bonus points if you also find it in your VM).


### Sources
https://www.keyfactor.com/resources/what-is-pki/  

https://www.youtube.com/watch?v=0ctat6RBrFo  

https://www.venafi.com/education-center/pki/how-does-pki-work  

https://www.mpirical.com/glossary/cr-certification-request  

https://linuxconfig.org/how-to-generate-a-self-signed-ssl-certificate-on-linux  

https://linuxize.com/post/creating-a-self-signed-ssl-certificate/  

https://www.digitalocean.com/community/tutorials/how-to-create-a-self-signed-ssl-certificate-for-apache-in-ubuntu-20-04  

https://letsencrypt.org/certificates/  

https://www.thesslstore.com/knowledgebase/ssl-support/explaining-the-chain-of-trust/  

https://support.moonpoint.com/os/windows/certificates/trusted_root.php  

https://ubuntu.com/server/docs/security-trust-store

### Overcome challenges
To create a self-signed certificate on the VM, we use openssl.  
It is already installed on my vm, I checked the version with the command openssl version.  

To create a certificate I used a command, see results.  I had to give the information asked. To view the certificate I used the cat command to view the .crt file.  

To view the certification paths of known websites you can click on the lock in the webbrowser and go to details, see results.  

For www.techgrounds.nl, the root certificate is ISRG Root X1, the intermediate certificate is R3 and the server certificate is techgrounds.nl.  
See the results to view the root certificate, intermediate certificate and server certificate of google.com and ing.nl.  

To find the root certificates on my windows machine, I used the microsoft management console, by running mmc.  
Then click on file and select add/remove snap in, then select certificates and click on add. See results.  
Now you can see the trusted root certificates.  

In Linux you can find it at the following locations:

As a single file (PEM bundle) in /etc/ssl/certs/ca-certificates.crt
As an OpenSSL compatible certificate directory in /etc/ssl/certs

### Results